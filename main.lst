1	0	;this is a comment			
2	0	COPY    START 0			
3	3	FIRST   MOV   RETADR,%RL ; save Return Address			32FFD
4	6	        MOV   %RB,#LENGTH			6B2031
5		        BASE  LENGTH
6	A	CLOOP   +JSUB RDREC			4B10103A
7	E	        MOV   %RA,LENGTH			32000
8	11	        COMP  #0			290000
9	14	        JEQ   ENDFIL			332007
10	17	        +JSUB WRREC			4B101061
11	1B	        J     CLOOP			3F2FEC
12	1E	ENDFIL  MOV   %RA,EOF			32000
13	21	        MOV   BUFFER,%RA			F2016
14	24	        MOV   %RA,#3			32003
15	27	        MOV   LENGTH,%RA			F200D
16	2A	        +JSUB WRREC			4B101061
17	2E	        J     @RETADR   ; Return back to the caller			3F2000
18	31	EOF     BYTE  C'EOF'			454F46
19	34	RETADR  RESW  1			
20	37	LENGTH  RESW  1			
21	3A	BUFFER  RESB  4096			
22	103A	RDREC   CLEAR %RX			B41
23	103C	        CLEAR %RA			B40
24	103E	        CLEAR %RS			B44
25	1040	        +MOV  %RT,#4096			77101000
26	1044	RLOOP   TD    INPUT			E32019
27	1047	        JEQ   RLOOP			332FFA
28	104A	        RD    INPUT			DB2013
29	104D	        COMPR %RA,%RS			A004
30	104F	        JEQ   EXIT			332008
31	1052	        STCH  BUFFER[%RX]			57C003
32	1055	        TIXR  %RT			B85
33	1057	        JLT   RLOOP			3B2FEA
34	105A	EXIT    MOV   LENGTH,%RX			874000
35	105D	        RSUB			4F0000
36	1060	INPUT   BYTE  X'F3'			F3
37	1061	WRREC   CLEAR %RX			B41
38	1063	        MOV   %RT,LENGTH			772000
39	1066	WLOOP   TD    OUTPUT			E32011
40	1069	        JEQ   WLOOP			332FFA
41	106C	        LDCH  BUFFER[%RX]			53C003
42	106F	        WD    OUTPUT			DF2008
43	1072	        TIXR  %RT			B85
44	1074	        JLT   WLOOP			3B2FEF
45	1077	        RSUB			4F0000
46	107A	OUTPUT  BYTE  X'05'			05
47		        END   FIRST
